<div style="display:flex; flex-direction: column; justify-content: space-between; height: 100%; position: relative;">
  <div class="my-repos-wrapper">
    <!-- My repos controls -->
    <div class="my-repos-buttons">
      <div class="row-button-group">
        <button (click)="openNewRepoDialog()" color="primary" mat-flat-button>
          <mat-icon>add</mat-icon>
          Create repository
        </button>

        <button (click)="importRepository()" [disabled]="importLoading" color="link" mat-stroked-button>
          <span *ngIf="importLoading" class="spinner-border spinner-border-sm mr-1"></span>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="#000" d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2z"></path></svg>
          Import repository
        </button>
      </div>

      <div class="row-button-group">
        <div class="view-switcher">
          <button (click)="isGridView = true" mat-button>
            <mat-icon [ngClass]="isGridView ? 'active-view' : 'inactive-view'" matTooltip="Grid view">
              grid_on
            </mat-icon>
          </button>
          <button (click)="isGridView = false" mat-button>
            <mat-icon [ngClass]="isGridView ? 'inactive-view' : 'active-view'" matTooltip="List view">
              view_list
            </mat-icon>
          </button>
        </div>

        <app-search-bar (onFilteredOptionsChange)="getFilteredOptions($event)"
          (onFilteredValueChange)="getSearchedValue($event)" [options]="getAllRepositories"
          [tabIndex]="selectedTabIndex" [title]="'Search repositories'"></app-search-bar>
      </div>
    </div>

    <div class="tab-menu">
      <mat-tab-group (selectedIndexChange)="selectedIndexChange($event)" animationDuration="0ms" mat-align-tabs="start">
        <mat-tab>
          <ng-template mat-tab-label>
            <div class="tab-label">
              <mat-icon>book</mat-icon>
              My repositories
            </div>
          </ng-template>

          <!-- If no repositories are available -->
          <app-placeholder-text *ngIf="!loadingState && pageLength == 0 || !getRepositories?.length">
            No repositories were found!
          </app-placeholder-text>

          <div [ngClass]="isGridView ? 'my-repos-container-grid' : 'my-repos-container-list'">
            <!-- Spinner for loading repositories -->
            <mat-spinner [hidden]="!loadingState"></mat-spinner>
            <!-- Individual repo cards -->
            <div *ngFor="let repository of getRepositories">
              <app-repo-card (repoArchived)="archiveRepo(repository)" (repoCreateIPCore)="repoCreateIPCore(repository)"
                (repoDeleted)="openDeleteDialog(repository)" (repoFavorited)="favoriteRepo(repository)"
                (repoSelected)="selectRepo(repository)" (repoSettings)="repoSettings(repository)"
                *ngIf="!repository?.archived" [ngClass]="loadingState ? 'my-repos-loadingcard' : 'my-repos-card'"
                [repo]="repository"></app-repo-card>
            </div>
          </div>
        </mat-tab>

        <mat-tab>
          <ng-template mat-tab-label>
            <div class="tab-label">
              <mat-icon>star_border</mat-icon>
              Favorite
            </div>
          </ng-template>

          <!-- If no repositories are available -->
          <app-placeholder-text *ngIf="!loadingState && pageLength == 0">
            No favorite repositories were found!
          </app-placeholder-text>

          <div [ngClass]="isGridView ? 'my-repos-container-grid' : 'my-repos-container-list'">
            <!-- Spinner for loading repositories -->
            <mat-spinner [hidden]="!loadingState"></mat-spinner>
            <!-- Individual repo cards -->
            <div *ngFor="let repository of getRepositories">
              <app-repo-card (repoArchived)="archiveRepo(repository)" (repoDeleted)="openDeleteDialog(repository)"
                (repoFavorited)="favoriteRepo(repository)" (repoSelected)="selectRepo(repository)"
                (repoSettings)="repoSettings(repository)" *ngIf="repository.favorite == true"
                [ngClass]="loadingState ? 'my-repos-loadingcard' : 'my-repos-card'" [repo]="repository"></app-repo-card>
            </div>
          </div>
        </mat-tab>

        <mat-tab>
          <ng-template mat-tab-label>
            <div class="tab-label">
              <mat-icon>archive</mat-icon>
              Archived
            </div>
          </ng-template>

          <!-- If no repositories are available -->
          <app-placeholder-text *ngIf="!loadingState && pageLength == 0">
            No archived repositories were found!
          </app-placeholder-text>

          <div [ngClass]="isGridView ? 'my-repos-container-grid' : 'my-repos-container-list'">
            <!-- Spinner for loading repositories -->
            <mat-spinner [hidden]="!loadingState"></mat-spinner>
            <!-- Individual repo cards -->
            <div *ngFor="let repository of getRepositories">
              <app-repo-card (repoArchived)="archiveRepo(repository)" (repoDeleted)="openDeleteDialog(repository)"
                (repoFavorited)="favoriteRepo(repository)" (repoSelected)="selectRepo(repository)"
                (repoSettings)="repoSettings(repository)" *ngIf="repository.archived == true"
                [ngClass]="loadingState ? 'my-repos-loadingcard' : 'my-repos-card'" [repo]="repository"></app-repo-card>
            </div>
          </div>
        </mat-tab>

        <mat-tab>
          <ng-template mat-tab-label>
            <div class="tab-label">
              <mat-icon>public</mat-icon>
              Public
            </div>
          </ng-template>

          <!-- If no repositories are available -->
          <app-placeholder-text *ngIf="!getRepositories?.length">
            No public repositories were found!
          </app-placeholder-text>

          <div [ngClass]="isGridView ? 'my-repos-container-grid' : 'my-repos-container-list'">
            <!-- Spinner for loading repositories -->
            <mat-spinner [hidden]="!loadingState"></mat-spinner>
            <!-- Individual repo cards -->
            <div *ngFor="let repository of getRepositories">
              <app-repo-card (repoFavorited)="favoriteRepo(repository)" (repoSelected)="selectRepo(repository)"
                [enableOptions]="false" [ngClass]="loadingState ? 'my-repos-loadingcard' : 'my-repos-card'"
                [repo]="repository">
              </app-repo-card>
            </div>
          </div>
        </mat-tab>
      </mat-tab-group>
    </div>
  </div>

  <div class="paginator">
    <mat-paginator #paginator (page)="pageEvent($event)" [length]="pageLength" [pageSizeOptions]="[6, 12, 18, 24, 30]"
      [pageSize]="pageSize"></mat-paginator>
  </div>
</div>